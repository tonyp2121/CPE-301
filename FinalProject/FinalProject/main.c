#include <avr/io.h>
#include <string.h>

#define F_CPU 8000000L
#include <util/delay.h>

#include "Drivers/nokia5110.h"

// itoa can print numbers
// char * stringName = "What we want in the string"


// this file generated by Image2GLCD
const unsigned char img[504] = {
	0x1F, 0xBF, 0x00, 0x7E, 0x00, 0x07, 0xDD, 0xFF, 0xFF, 0xFF, 0x1F, 0xBF, 0x00, 0x7E, 0x00, 0x03,
	0xFF, 0xFF, 0xFF, 0xFF, 0x0F, 0xBF, 0x00, 0x3F, 0x08, 0x03, 0xFF, 0xFF, 0xFF, 0xFF, 0x0F, 0xBF,
	0x80, 0x3F, 0x0C, 0x01, 0xFB, 0xFF, 0xFF, 0xFF, 0x0F, 0xFF, 0x00, 0x3F, 0x9C, 0x00, 0xFF, 0xFF,
	0xFF, 0xFF, 0x0F, 0xDF, 0x00, 0x1F, 0x9E, 0x00, 0xFE, 0xFF, 0xFF, 0xDF, 0x0F, 0xDF, 0x00, 0x1F,
	0xDE, 0x00, 0x7F, 0xFF, 0xBF, 0xEF, 0x0F, 0xFE, 0x00, 0x1F, 0xEF, 0x00, 0x7F, 0xFF, 0xDF, 0xF7,
	0x0F, 0xFE, 0x00, 0x0F, 0xEF, 0x80, 0x3F, 0xBF, 0xFF, 0xFB, 0x0F, 0xFE, 0x00, 0x0F, 0xF7, 0x80,
	0x1F, 0xFF, 0xFF, 0xFD, 0x0F, 0xFC, 0x20, 0x0F, 0xFF, 0xC0, 0x1F, 0xFF, 0xFF, 0xFE, 0x07, 0xFC,
	0x00, 0x07, 0xFF, 0xC0, 0x0F, 0xFF, 0xFF, 0xFF, 0x07, 0xFC, 0x00, 0x07, 0xFF, 0xE0, 0x07, 0xFF,
	0xFF, 0xFF, 0x07, 0xF8, 0x10, 0x03, 0xFF, 0xE0, 0x07, 0xFF, 0xFF, 0xFF, 0x07, 0xF8, 0x10, 0x03,
	0xFF, 0xF0, 0x03, 0xFF, 0xFF, 0xFF, 0x07, 0xF8, 0x00, 0x03, 0xFF, 0xF0, 0x03, 0xFF, 0xFF, 0xFF,
	0x07, 0xF8, 0x00, 0x01, 0xFF, 0xF8, 0x01, 0xFF, 0xFF, 0xFF, 0x07, 0xFC, 0x08, 0x01, 0xFF, 0xFC,
	0x00, 0xFF, 0xFF, 0xFF, 0x07, 0xFC, 0x08, 0x00, 0xFF, 0xFC, 0x00, 0xFF, 0xFF, 0xFF, 0x07, 0xFC,
	0x00, 0x00, 0xFF, 0xFE, 0x00, 0x7F, 0xFF, 0xFF, 0x03, 0xFE, 0x04, 0x00, 0xFF, 0xFE, 0x00, 0x3F,
	0xFF, 0xFF, 0x03, 0xFF, 0x0C, 0x00, 0x7F, 0xFF, 0x00, 0x3F, 0xFF, 0xFF, 0x03, 0xFF, 0xFC, 0x00,
	0x7F, 0xFF, 0x00, 0x1F, 0xFF, 0xFF, 0x03, 0xFF, 0xFE, 0x00, 0x7F, 0xFF, 0x80, 0x1F, 0xFF, 0xFF,
	0x03, 0xFF, 0xFE, 0x00, 0x3F, 0xFF, 0x80, 0x0F, 0xFF, 0xFF, 0x03, 0xFF, 0xFE, 0x00, 0x3F, 0xFF,

	0x80, 0x07, 0xFF, 0xFF, 0x03, 0xFF, 0xFE, 0x00, 0x1F, 0xFF, 0x80, 0x07, 0xFF, 0xFF, 0x01, 0xFF,
	0xFE, 0x00, 0x1F, 0xFF, 0x80, 0x03, 0xFF, 0x3F, 0x01, 0xFF, 0xFE, 0x00, 0x1F, 0xFF, 0x80, 0x03,
	0xFF, 0x1F, 0x01, 0xFF, 0xFE, 0x00, 0x0F, 0xFF, 0x00, 0x01, 0xFE, 0x1F, 0x01, 0xFF, 0xFE, 0x00,
	0x0F, 0xFF, 0x00, 0x00, 0xFE, 0x0F, 0x01, 0xFF, 0xFE, 0x00, 0x0F, 0xFF, 0x00, 0x00, 0xFE, 0x07,
	0x01, 0xFF, 0xFF, 0x00, 0x07, 0xFF, 0x80, 0x00, 0x7E, 0x00, 0x01, 0xFF, 0xFF, 0x00, 0x07, 0xFF,
	0x80, 0x00, 0x02, 0x00, 0x01, 0xFF, 0xFF, 0x00, 0x03, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF,
	0xFE, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1C, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};







const int i;
const int j;

int main(void)
{
	nokia_lcd_init();
	nokia_lcd_clear();
	//char *test1 = "Hey this is a number %u";
	//int test = 2;
	int i = 0;
	int y = 0;
	int test = 15;
	int counter = 0;
	//int counter2 = 0;
	//char write[8];
	char str[2];
	//ar * str = "whatever";
	nokia_lcd_write_string(itoa(test,str,10),1);
	//kia_lcd_write_string(str, 1);

	while(y != 48){
		while(i <= 79){
			if(img[counter] & 0x80){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(i == 84){break;}
			if(img[counter] & 0x40){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(i == 84){break;}
			if(img[counter] & 0x20){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(i == 84){break;}
			if(img[counter] & 0x10){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(i == 84){break;}
			if(img[counter] & 0x08){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(i == 84){break;}
			if(img[counter] & 0x04){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(i == 84){break;}
			if(img[counter] & 0x02){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(img[counter] & 0x01){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(i == 84){break;}
			counter++;

		}
		if(i == 84){
			y++;
			i = 0;
			if(img[counter] & 0x08){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(img[counter] & 0x04){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(img[counter] & 0x02){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			if(img[counter] & 0x01){nokia_lcd_set_pixel(i, y, 1); i++;}
			else {i++;}
			counter++;
		}
		else{
		i = 0;
		y++;}

	}



	nokia_lcd_render();


	while(1) {}
}
